#sidebar,
.sidebar-popout {
	#compendium {
		.compendium-entity {
			@extend %reset-list;
			padding: p("base") p("sm");
			width: 100%;

			.-compact & {
				padding: p("base");
			}

			> h3 {
				@extend %h-tag;
				@include ellipsis;
				align-items: center;
				background: color("folder-header");
				border: none;
				color: color("text");
				display: flex;
				flex: 1 1 auto;
				flex-wrap: nowrap;
				font-size: fs("lg");
				min-height: to-rem(32px);
				padding: p("base") p("sm");
				transition: t(background box-shadow color, "link");
				width: 100%;

				.-compact & {
					min-height: to-rem(24px);
					padding: p("base");
				}
			}

			> .compendium-list {
				@extend %reset-list;
				background: color("folder-subdirectory");
				display: flex;
				flex-direction: column;
				width: 100%;

				.compendium-pack {
					align-items: center;
					background: color("folder-directory");
					border: none;
					color: color("text-lightest");
					cursor: pointer;
					flex-wrap: wrap;
					margin: m("base");
					margin-block-end: 0;
					min-height: to-rem(32px);
					padding: p("base") p("sm");
					position: relative;
					transition: t(background box-shadow color, "link");

					.-compact & {
						min-height: to-rem(24px);
						padding: p("base");
					}

					&:last-child {
						margin-block-end: m("base");
					}

					&:hover {
						@extend %global-hover;
						background: color("primary");
						color: color("text-lightest");
					}

					&:focus {
						@extend %global-focus;
					}

					h4 {
						@extend %h-tag;
						color: color("text-lightest");
						display: flex;
						font-size: fs("lg");
						width: 100%;

						a {
							@include ellipsis;
							align-items: center;
							display: flex;
							flex: 1 1 auto;
							margin-inline-end: m("sm");
							text-shadow: none;

							.-compact & {
								margin-inline-end: m("base");
							}

							.folder {
								padding: 0;
								margin-inline-end: m("base");
								width: auto;
							}
						}

						.status-icons {
							color: color("text-lightest");
							flex: 0 0 auto;
							position: relative;
							right: auto;

							> i {
								margin: 0;
								padding: p("xs");
								font-size: fs("md");
							}
						}
					}

					.compendium-footer {
						@include ellipsis;
						width: 100%;
					}
				}
			}
		}
	}
}
